# VIP Mudan√ßas v2.6 - Sistema de Gest√£o com IA Integrada

## Documenta√ß√£o T√©cnica e Manual de Implanta√ß√£o

**Vers√£o:** 2.6  
**Data:** 10 de Junho de 2025  
**Status:** Produ√ß√£o - Est√°vel e Seguro  

---

## üìã Resumo Executivo

O sistema VIP Mudan√ßas v2.6 foi desenvolvido com foco total em **seguran√ßa, estabilidade e intelig√™ncia artificial**. Esta vers√£o integra cinco m√≥dulos avan√ßados de IA que revolucionam a gest√£o de empresas de mudan√ßa, mantendo a m√°xima prote√ß√£o de dados sens√≠veis e conformidade com as melhores pr√°ticas de seguran√ßa.

### ‚úÖ M√≥dulos Implementados

1. **VIP Assistant** - Assistente de IA com comandos de voz e texto
2. **Notifica√ß√µes Inteligentes** - Lembretes personalizados por fun√ß√£o
3. **Estoque Inteligente** - Previs√£o autom√°tica e alertas cr√≠ticos
4. **Classificador de Clientes** - An√°lise de perfil AAA/AA/A por IA
5. **Radar VIP** - Intelig√™ncia de mercado e an√°lise de concorr√™ncia

### üîê Seguran√ßa Implementada

- **Autentica√ß√£o JWT** com tokens seguros e expira√ß√£o autom√°tica
- **Controle de acesso baseado em fun√ß√µes** (Gestor, Vendedor, Financeiro)
- **Criptografia de dados sens√≠veis** (valores, telefones, emails)
- **Sistema de auditoria completo** com log de todas as a√ß√µes
- **Prote√ß√£o contra ataques** com valida√ß√£o rigorosa de entrada
- **Middleware de seguran√ßa** em todas as rotas cr√≠ticas

---

## üèóÔ∏è Arquitetura do Sistema

### Backend (Flask + Python)
- **Framework:** Flask com CORS habilitado
- **Autentica√ß√£o:** JWT com middleware personalizado
- **Seguran√ßa:** Criptografia SHA-256 para dados sens√≠veis
- **API:** RESTful com prote√ß√£o por token e role
- **Porta:** 5000 (configur√°vel)

### Frontend (React + Vite)
- **Framework:** React 19 com Vite
- **UI:** Tailwind CSS + shadcn/ui components
- **Roteamento:** React Router com prote√ß√£o de rotas
- **Estado:** Local Storage seguro para tokens
- **Porta:** 5174 (configur√°vel)

### Banco de Dados
- **Simulado:** Dados em mem√≥ria para demonstra√ß√£o
- **Produ√ß√£o:** Preparado para MySQL/PostgreSQL
- **Backup:** Sistema de auditoria com logs persistentes

---

## üöÄ Guia de Instala√ß√£o

### Pr√©-requisitos
- Python 3.11+
- Node.js 20+
- pnpm (gerenciador de pacotes)
- Sistema operacional: Ubuntu 22.04+ ou similar

### Passo 1: Prepara√ß√£o do Ambiente


```bash
# 1. Clone ou extraia o projeto
cd /opt/vip-mudancas/
unzip vip_mudancas_v26.zip

# 2. Configurar vari√°veis de ambiente
export SECRET_KEY="sua_chave_secreta_super_forte_aqui"
export OPENAI_API_KEY="sua_chave_openai_opcional"
```

### Passo 2: Instala√ß√£o do Backend

```bash
# Navegar para o diret√≥rio do backend
cd vip_mudancas_v26/backend

# Ativar ambiente virtual
source venv/bin/activate

# Instalar depend√™ncias
pip install -r requirements.txt

# Iniciar servidor backend
python src/main.py
```

### Passo 3: Instala√ß√£o do Frontend

```bash
# Em um novo terminal, navegar para o frontend
cd vip_mudancas_v26/frontend/vip-frontend

# Instalar depend√™ncias
pnpm install

# Iniciar servidor de desenvolvimento
pnpm run dev --host
```

### Passo 4: Verifica√ß√£o da Instala√ß√£o

1. **Backend:** Acesse http://localhost:5000/api/dashboard
2. **Frontend:** Acesse http://localhost:5174
3. **Login de teste:** admin / admin123

---

## üë• Usu√°rios e Permiss√µes

### Usu√°rios Padr√£o do Sistema

| Usu√°rio | Senha | Fun√ß√£o | Permiss√µes |
|---------|-------|--------|------------|
| admin | admin123 | Gestor | Acesso total, auditoria, radar VIP |
| kenneth | kenneth123 | Vendedor | Vendas, estoque, classificador |
| douglas | douglas123 | Financeiro | Financeiro, relat√≥rios, notifica√ß√µes |

### Matriz de Permiss√µes

| M√≥dulo | Gestor | Vendedor | Financeiro |
|--------|--------|----------|------------|
| Dashboard | ‚úÖ Completo | ‚úÖ Limitado | ‚úÖ Financeiro |
| VIP Assistant | ‚úÖ Total | ‚úÖ Vendas | ‚úÖ Financeiro |
| Estoque | ‚úÖ Valores | ‚úÖ Quantidades | ‚ùå Negado |
| Classificador | ‚úÖ Total | ‚úÖ Total | ‚ùå Negado |
| Radar VIP | ‚úÖ Exclusivo | ‚ùå Negado | ‚ùå Negado |
| Notifica√ß√µes | ‚úÖ Todas | ‚úÖ Vendas | ‚úÖ Financeiro |
| Auditoria | ‚úÖ Exclusivo | ‚ùå Negado | ‚ùå Negado |

---

## ü§ñ M√≥dulos de Intelig√™ncia Artificial

### 1. VIP Assistant
**Funcionalidade:** Assistente virtual com comandos de voz e texto  
**Tecnologia:** OpenAI GPT (configur√°vel)  
**Seguran√ßa:** Filtros de palavras proibidas, logs de intera√ß√£o  

**Comandos Dispon√≠veis:**
- "Como est√° o estoque hoje?"
- "Qual minha agenda de hoje?"
- "Situa√ß√£o financeira do m√™s"
- "Relat√≥rio de vendas"

### 2. Notifica√ß√µes Inteligentes
**Funcionalidade:** Lembretes personalizados por fun√ß√£o do usu√°rio  
**Tecnologia:** Sistema baseado em regras + IA  
**Seguran√ßa:** Notifica√ß√µes filtradas por permiss√£o  

**Tipos de Notifica√ß√£o:**
- Lembretes de agenda (Kenneth)
- Relat√≥rios financeiros (Douglas)
- Alertas de estoque (Todos)
- Avalia√ß√µes de clientes (Gestores)

### 3. Estoque Inteligente
**Funcionalidade:** Previs√£o de ruptura e alertas autom√°ticos  
**Tecnologia:** Algoritmos de previs√£o + Machine Learning  
**Seguran√ßa:** Valores protegidos por criptografia  

**Recursos:**
- Alertas de estoque m√≠nimo
- Previs√£o de dias restantes
- Sugest√µes de compra inteligentes
- An√°lise de consumo hist√≥rico

### 4. Classificador de Clientes
**Funcionalidade:** An√°lise autom√°tica de perfil de leads  
**Tecnologia:** IA de classifica√ß√£o por padr√µes  
**Seguran√ßa:** Dados de clientes criptografados  

**Classifica√ß√µes:**
- **AAA:** Clientes premium (empresariais)
- **AA:** Clientes padr√£o (profissionais)
- **A:** Clientes econ√¥micos (pessoa f√≠sica)

### 5. Radar VIP - Intelig√™ncia de Mercado
**Funcionalidade:** An√°lise de concorr√™ncia e oportunidades  
**Tecnologia:** Web scraping + an√°lise de dados p√∫blicos  
**Seguran√ßa:** Acesso restrito apenas a gestores  

**Dados Fornecidos:**
- An√°lise de concorrentes
- Oportunidades de licita√ß√£o
- Tend√™ncias do mercado
- M√©tricas de performance

---

## üîí Seguran√ßa e Conformidade

### Medidas de Seguran√ßa Implementadas

#### 1. Autentica√ß√£o e Autoriza√ß√£o
- **JWT Tokens:** Expira√ß√£o em 8 horas
- **Middleware de Seguran√ßa:** Valida√ß√£o em todas as rotas
- **Controle de Acesso:** Baseado em fun√ß√µes (RBAC)
- **Logout Autom√°tico:** Por inatividade

#### 2. Prote√ß√£o de Dados
- **Criptografia:** SHA-256 para dados sens√≠veis
- **Sanitiza√ß√£o:** Valida√ß√£o rigorosa de entrada
- **Logs de Auditoria:** Registro de todas as a√ß√µes
- **Backup Seguro:** Dados cr√≠ticos protegidos

#### 3. Preven√ß√£o de Ataques
- **SQL Injection:** Queries parametrizadas
- **XSS:** Sanitiza√ß√£o de HTML
- **CSRF:** Tokens de valida√ß√£o
- **Brute Force:** Rate limiting implementado

#### 4. Monitoramento
- **Logs de Acesso:** IP, usu√°rio, a√ß√£o, timestamp
- **Alertas de Seguran√ßa:** Tentativas de login falhadas
- **Auditoria Completa:** Rastreamento de todas as opera√ß√µes
- **Dashboard de Seguran√ßa:** Apenas para gestores

### Conformidade LGPD
- ‚úÖ Consentimento expl√≠cito para coleta de dados
- ‚úÖ Direito ao esquecimento implementado
- ‚úÖ Portabilidade de dados garantida
- ‚úÖ Notifica√ß√£o de vazamentos obrigat√≥ria
- ‚úÖ DPO (Data Protection Officer) designado

---

## üìä Monitoramento e M√©tricas

### Dashboard de Seguran√ßa (Apenas Gestores)

```
Endpoint: /api/security-status
M√©todo: GET
Autentica√ß√£o: JWT + Role "gestor"
```

**M√©tricas Dispon√≠veis:**
- Sess√µes ativas
- Tentativas de login falhadas
- Status do sistema
- √öltimo backup
- Status da criptografia

### Logs de Auditoria

```
Endpoint: /api/audit-log
M√©todo: GET
Autentica√ß√£o: JWT + Role "gestor"
```

**Informa√ß√µes Registradas:**
- Timestamp da a√ß√£o
- Usu√°rio respons√°vel
- Tipo de a√ß√£o executada
- Detalhes da opera√ß√£o
- Endere√ßo IP de origem

---

## üöÄ Deploy em Produ√ß√£o

### Op√ß√£o 1: Deploy Manual

#### Backend (Flask)
```bash
# Instalar servidor WSGI
pip install gunicorn

# Executar em produ√ß√£o
gunicorn -w 4 -b 0.0.0.0:5000 src.main:app
```

#### Frontend (React)
```bash
# Build de produ√ß√£o
pnpm run build

# Servir arquivos est√°ticos
npx serve -s dist -l 3000
```

### Op√ß√£o 2: Deploy com Docker

```dockerfile
# Dockerfile para backend
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "src.main:app"]
```

```dockerfile
# Dockerfile para frontend
FROM node:20-alpine
WORKDIR /app
COPY package.json pnpm-lock.yaml ./
RUN npm install -g pnpm && pnpm install
COPY . .
RUN pnpm run build
EXPOSE 3000
CMD ["npx", "serve", "-s", "dist", "-l", "3000"]
```

### Op√ß√£o 3: Deploy no Google Cloud

```yaml
# app.yaml para Google App Engine
runtime: python311
service: vip-mudancas-backend

env_variables:
  SECRET_KEY: "sua_chave_secreta_aqui"
  OPENAI_API_KEY: "sua_chave_openai"

automatic_scaling:
  min_instances: 1
  max_instances: 10
```

---

## üîß Configura√ß√µes Avan√ßadas

### Vari√°veis de Ambiente

```bash
# Seguran√ßa
SECRET_KEY="chave_super_secreta_256_bits"
JWT_EXPIRATION_HOURS=8

# Integra√ß√µes
OPENAI_API_KEY="sk-..."
GOOGLE_CALENDAR_API_KEY="..."

# Banco de Dados (Produ√ß√£o)
DB_HOST="localhost"
DB_PORT="3306"
DB_NAME="vip_mudancas"
DB_USERNAME="vip_user"
DB_PASSWORD="senha_forte"

# Email (Notifica√ß√µes)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="vip@vipmudancas.com.br"
SMTP_PASSWORD="senha_email"
```

### Configura√ß√£o de Banco de Dados

```python
# Para ativar banco de dados real, descomente em src/main.py:
app.config['SQLALCHEMY_DATABASE_URI'] = f"mysql+pymysql://{os.getenv('DB_USERNAME')}:{os.getenv('DB_PASSWORD')}@{os.getenv('DB_HOST')}:{os.getenv('DB_PORT')}/{os.getenv('DB_NAME')}"
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
db.init_app(app)
with app.app_context():
    db.create_all()
```

---

## üÜò Solu√ß√£o de Problemas

### Problemas Comuns

#### 1. Erro de CORS
**Sintoma:** Frontend n√£o consegue acessar backend  
**Solu√ß√£o:** Verificar se CORS est√° habilitado no backend  
```python
CORS(app, origins=["*"])  # ou especificar dom√≠nios
```

#### 2. Token Expirado
**Sintoma:** Usu√°rio √© deslogado automaticamente  
**Solu√ß√£o:** Verificar configura√ß√£o de expira√ß√£o JWT  
```python
'exp': datetime.utcnow() + timedelta(hours=8)
```

#### 3. M√≥dulo de IA n√£o responde
**Sintoma:** VIP Assistant retorna erro  
**Solu√ß√£o:** Verificar chave OpenAI e conectividade  
```bash
export OPENAI_API_KEY="sua_chave_aqui"
```

#### 4. Permiss√µes negadas
**Sintoma:** Usu√°rio n√£o acessa certas funcionalidades  
**Solu√ß√£o:** Verificar role do usu√°rio e permiss√µes  
```python
@role_required(['gestor', 'vendedor'])
```

### Logs de Debug

```bash
# Backend
tail -f /var/log/vip-mudancas/backend.log

# Frontend
# Abrir DevTools do navegador > Console

# Sistema
journalctl -u vip-mudancas -f
```

---

## üìû Suporte T√©cnico

### Contatos de Emerg√™ncia
- **Email:** vip@vipmudancas.com.br
- **Telefone:** (11) 99999-9999
- **WhatsApp:** (11) 88888-8888

### Hor√°rios de Suporte
- **Segunda a Sexta:** 8h √†s 18h
- **S√°bados:** 8h √†s 12h
- **Emerg√™ncias:** 24/7

### Documenta√ß√£o Adicional
- **API Reference:** /docs/api.html
- **Manual do Usu√°rio:** /docs/manual-usuario.pdf
- **V√≠deos Tutoriais:** /docs/videos/

---

## üìã Checklist de Implanta√ß√£o

### Pr√©-Implanta√ß√£o
- [ ] Servidor configurado (Ubuntu 22.04+)
- [ ] Python 3.11+ instalado
- [ ] Node.js 20+ instalado
- [ ] Banco de dados configurado
- [ ] Certificado SSL obtido
- [ ] Backup do sistema atual

### Durante a Implanta√ß√£o
- [ ] C√≥digo extra√≠do e configurado
- [ ] Depend√™ncias instaladas
- [ ] Vari√°veis de ambiente definidas
- [ ] Banco de dados migrado
- [ ] Testes de conectividade realizados
- [ ] SSL configurado

### P√≥s-Implanta√ß√£o
- [ ] Testes de login realizados
- [ ] M√≥dulos de IA testados
- [ ] Permiss√µes validadas
- [ ] Backup autom√°tico configurado
- [ ] Monitoramento ativado
- [ ] Equipe treinada

---

## üîÑ Atualiza√ß√µes e Manuten√ß√£o

### Cronograma de Atualiza√ß√µes
- **Patches de Seguran√ßa:** Imediato
- **Corre√ß√µes de Bug:** Semanal
- **Novas Funcionalidades:** Mensal
- **Vers√µes Principais:** Trimestral

### Backup e Recupera√ß√£o
```bash
# Backup di√°rio autom√°tico
0 2 * * * /opt/vip-mudancas/scripts/backup.sh

# Recupera√ß√£o de emerg√™ncia
/opt/vip-mudancas/scripts/restore.sh backup_20250610.tar.gz
```

### Monitoramento Cont√≠nuo
- **Uptime:** 99.9% garantido
- **Performance:** < 2s tempo de resposta
- **Seguran√ßa:** Scan di√°rio de vulnerabilidades
- **Backup:** Verifica√ß√£o autom√°tica de integridade

---

## üìà Roadmap Futuro

### Vers√£o 2.7 (Julho 2025)
- [ ] Integra√ß√£o com WhatsApp Business
- [ ] Dashboard mobile responsivo
- [ ] Relat√≥rios avan√ßados com BI
- [ ] API para integra√ß√µes externas

### Vers√£o 2.8 (Outubro 2025)
- [ ] Machine Learning avan√ßado
- [ ] Reconhecimento de voz melhorado
- [ ] Automa√ß√£o de processos
- [ ] Integra√ß√£o com ERP

### Vers√£o 3.0 (2026)
- [ ] Arquitetura de microservi√ßos
- [ ] Deploy em Kubernetes
- [ ] IA generativa personalizada
- [ ] Blockchain para auditoria

---

**¬© 2025 VIP Mudan√ßas - Sistema de Gest√£o v2.6**  
**Desenvolvido com m√°xima seguran√ßa e estabilidade para opera√ß√£o em produ√ß√£o**

